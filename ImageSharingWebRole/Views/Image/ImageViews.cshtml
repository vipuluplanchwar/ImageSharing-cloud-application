@model IEnumerable<ImageSharingWebRole.Models.LogEntry>

@{
    ViewBag.Title = "Image Viewing Activity";
}

<h2>@ViewBag.Title</h2>

<fieldset>
    @Html.AntiForgeryToken()
    @if (Model.Count() > 0)
    {
        @Html.AntiForgeryToken()

        <table>
            <tr>
                <th>Caption</th>
                <th>User</th>
                <th>Time</th>
            </tr>

            @foreach (var entry in Model.OrderBy(x => x.ImageId))
            {
                <tr>
                    <td>
                        @Html.ActionLink(entry.Caption, "Details", "Image", new { Id=entry.ImageId }, null)
                    </td>
                    <td>
                        @entry.UserId
                    </td>
                    <td>
                        @string.Format("{0:t}", entry.EntryDate))
                        @*<br />
                        @entry.PartitionKey 
                        <br />
                        @entry.RowKey*@
                    </td>
                </tr>
            }
        </table>
    }
    else
    {
        <p>No Image found.</p>
    }
</fieldset>

